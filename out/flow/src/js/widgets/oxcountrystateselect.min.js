!function(l){oxCountryStateSelect={options:{listItem:"li",select:"select",span:"span",selectedStateId:"selectedStateId"},_create:function(){var t=this,e=t.options,n=t.element,a=t.getStateSelect(n);t.manageStateSelect(a,t.getStates(n.val(),allStates,allCountryIds),t.getStatesValues(n.val(),allStateIds,allCountryIds),e.selectedStateId),n.change(function(){t.manageStateSelect(a,t.getStates(n.val(),allStates,allCountryIds),t.getStatesValues(n.val(),allStateIds,allCountryIds),e.selectedStateId)})},manageStateSelect:function(t,e,n,a){this.removeSelectOptions(t);var o=this.getStateSelectSpan(t);return null!=e&&0<e.length?(this.addSelectOptions(t,n,e,a),o.parent().show()):(o.parent().hide(),this.removeSelectOptions(t)),t},getStateSelect:function(t){return oOptions=this.options,l(t).closest(oOptions.listItem).next(oOptions.listItem).children(oOptions.span).children(oOptions.select)},getStateSelectSpan:function(t){return oOptions=this.options,l(t).parent(oOptions.span)},addSelectOptions:function(t,e,n,a){for(var o=0;o<e.length;o++)a==e[o]?t.append(l('<option selected="selected"></option>').attr("value",e[o]).text(n[o])):t.append(l("<option></option>").attr("value",e[o]).text(n[o]));return t},removeSelectOptions:function(t){return t.find('option[value!=""]').remove().end(),t},getStates:function(t,e,n){return e[n[t]]},getStatesValues:function(t,e,n){return e[n[t]]}},l.widget("ui.oxCountryStateSelect",oxCountryStateSelect)}(jQuery);