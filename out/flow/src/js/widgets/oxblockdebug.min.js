!function(h){oxBlockDebug={_create:function(){h("hr.debugBlocksStart").each(function(){for(var t=h(this).attr("title"),o=h(this).attr("id"),s=h(this).next();s.hasClass("debugBlocksStart");)s=s.next();var e=s.offset().left,i=s.offset().left+s.outerWidth(),d=s.offset().top,r=s.offset().top+s.outerHeight(),c=function(){h(this).hasClass("debugBlocksStart")||h(this).hasClass("debugBlocksEnd")||(e=Math.min(e,h(this).offset().left),i=Math.max(i,h(this).offset().left+h(this).outerWidth()),d=Math.min(d,h(this).offset().top),r=Math.max(r,h(this).offset().top+h(this).outerHeight()),h(this).children(":visible").each(c))};h(this).nextUntil("hr.debugBlocksEnd[title="+o+"]").filter(":visible").each(c);var n=i-e,a=r-d,l=h("<div class='tplDebugBlock' style='z-index:1001;background-color:rgba(200, 200, 200, 0.2)'>").html("<span id='"+o+"_title' style='z-index:1003;color:#fff;background-color:#444;background-color:rgba(0, 0, 0, 0.7);padding:2px 6px;'>Block: "+t+"</span>");l.attr("id",o+"_border"),l.css({position:"absolute",top:d,left:e,width:n-4,height:a-4,border:"1px dashed #a33",padding:"2px 1px"}),h("body").append(l),h("#"+o+"_title").hover(function(){h(this).css("z-index",1004),h(this).css("background-color","#000"),h("#"+o+"_border").css({border:"2px solid #f00",padding:"1px 0","z-index":1002})},function(){h(this).css("z-index",1003);try{h(this).css("background-color","rgba(0, 0, 0, 0.7)")}catch(t){h(this).css("background-color","#444")}h("#"+o+"_border").css({border:"1px dashed #a33",padding:"2px 1px","z-index":1001})})}),h("body").append(h("<button>Toggle template debug blocks</button>").css({right:0,top:0,position:"fixed",background:"#a33",color:"#fff",border:"1px solid #600",padding:"3px 10px",cursor:"pointer",width:"230px","z-index":1005}).click(function(){h("div.tplDebugBlock").toggle()}).hover(function(){h(this).css("background","#533")},function(){h(this).css("background","#a33")}))}},h.widget("ui.oxBlockDebug",oxBlockDebug)}(jQuery);